<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>项目日志</title>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.easyui.min.js"></script>
<script type="text/javascript" src="js/X.js"></script>
<script type="text/javascript" src="js/projectVersion.js"></script>
<link rel="stylesheet" type="text/css" href="css/easyui.css" />
<link rel="stylesheet" type="text/css" href="css/icon.css" />
<link rel="stylesheet" type="text/css" href="css/X.css" />
<script type="text/javascript">
// var a = true;
// function test(){
// 	if(a) $('#globalNotes').animate({bottom:'-30px'},'slow');
// 	else $('#globalNotes').animate({bottom:'0px'},'slow');
// 	a = !a;
// }
</script>
<style>

</style>
</head>
<body class="easyui-layout">
	<div data-options="region:'north',border:false"
		style="height: 60px; background: #B3DFDA;">north
		region
		<div id="globalNotes" class="notes_body">
			<span class="notes">操作结果</span>
		</div>
<!-- 		<input type="button" onclick="test();" value="Test"/> -->
	</div>
	<div
		data-options="region:'west',split:true,title:'ProjectName',tools:'#mainWestBtn',collapsible:false"
		style="width: 10%; padding: 10px;">
		<ul id="projectNames" class="easyui-tree" 
			data-options="animate:true,lines:true,onSelect:getQuestions,onlyLeafCheck:true">
		</ul>
	</div>
	<div data-options="region:'south',border:false" style="height: 50px; background: #A9FACD; padding: 10px;">south
		region</div>
	<div data-options="region:'east',border:false,collapsed:true,title:'East'" style="width:100px;padding:10px;"></div>
	<div data-options="region:'center',border:false">
		<div class="easyui-layout" data-options="fit:true">
			<div data-options="region:'west',split:true,border:false" style="width: 60%">
				<div class="easyui-panel" style="width:100%;height:80%;">
					<div id="quesLayout" class="easyui-layout" data-options="fit:true">
						<div data-options="title:'All Your Friends',region:'west',
							collapsed:true,collapsible:false,tools:'#quesWestBtn',disable:true" style="width:20%">
							<table id="friends" class="easyui-datagrid" style="width:100%" data-options="
								autoRowHeight:true,
								checkOnSelect:false,
								selectOnCheck:false,
								singleSelect:true,
								fit:true,
								border:false">
								<thead>
									<tr>
										<th data-options="field:'userid',width:'80%',align:'right'">好友ID</th>
										<th data-options="field:'friend_ck',checkbox:true"></th>
									</tr>
								</thead>
							</table>
						</div>
						<div data-options="region:'center',border:false">
							<div id="quesTabs" class="easyui-tabs" style="height:100%;" data-options="border:false,onSelect:quesTabSelect">
								<div title="全部">
									<table id="questions" class="easyui-datagrid" style="width:100%" data-options="
										rownumbers:true, 
										autoRowHeight:true, 
										pagination:true, 
										pageSize:50, 
										singleSelect:true, 
										checkOnSelect:false, 
										selectOnCheck:false, 
										fit:true, 
										border:false, 
										onSelect:onSelectRow, 
										onDblClickRow:questionDblRow, 
										showFooter:true"> 
										<thead>
											<tr>
												<th data-options="field:'ques_ck',checkbox:true,hidden:true"></th>
												<th data-options="field:'id',width:'5%'">编号</th>
												<th data-options="field:'title',width:'75%',editor:'validatebox'">Question</th>
												<th data-options="field:'status',width:'10%',
													editor:{type:'combobox',options:{ 
														valueField:'code',textField:'name',url:'json/questionsts.json',method:'get' 
													}}">状态</th> 
												<th data-options="field:'notes',hidden:true"></th>
											</tr>
										</thead>
									</table>
								</div>
								<div title="共享">
									<table id="shareQuestions" class="easyui-datagrid" style="width:100%" data-options="
										rownumbers:true,
										autoRowHeight:true,
										pagination:true,
										pageSize:50,
										singleSelect:true,
										fit:true,
										border:false">
										<thead>
											<tr>
												<th data-options="field:'id',width:'5%'">编号</th>
												<th data-options="field:'title',width:'70%',editor:'validatebox'">Question</th>
												<th data-options="field:'status',width:'10%'">状态</th>
												<th data-options="field:'sharedby',width:'10%'">共享自</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="quesNotePanel" class="easyui-panel" data-options="title:'notes',border:false,tools:'#quesNoteBtn'" style="height:20%;padding:10px;">
					<span id="notes_span"></span>
				</div>
			</div>
			<div data-options="region:'center',border:true">
				<div class="easyui-layout" data-options="fit:true">
					<div data-options="region:'north'" style="height:40px;">
						
						<div style="width:100%;height:30px;margin-top:6px;overflow: hidden;position:fixed;z-index:100;">
							<span style="width:5%;margin-left:5px;"></span>
							<input class="easyui-searchbox" data-options="prompt:'Just Input Something'">
							<span >发布人:</span>
							<select id="releaser" class="easyui-combobox" style="width:10%;"
								data-options="textField:'text',valueField:'release'">
						  	</select>
						  	<a href="javascript:void(0)" class="easyui-linkbutton" 
						  		onclick="expandAll();" data-options="text:'全部展开'"></a>
						  	<a href="javascript:void(0)" class="easyui-linkbutton" 
						  		onclick="collapseAll();" data-options="text:'全部折叠'"></a>
							<a href="javascript:void(0)" class="easyui-linkbutton" 
								onclick="addSolution();" data-options="iconCls:'icon-add',plain:true"></a>
							<a href="javascript:void(0)" class="easyui-linkbutton" 
								onclick="saveSolution();" data-options="iconCls:'icon-save',plain:true"></a>
							<a href="javascript:void(0)" class="easyui-linkbutton" 
								onclick="removeSolution();" data-options="iconCls:'icon-cancel',plain:true"></a>
							<a href="javascript:void(0)" class="easyui-linkbutton" 
								onclick="cancelSolution();" data-options="iconCls:'icon-redo',plain:true"></a>
						</div>
					</div>
					<div id="solution" data-options="region:'center',border:false" style="overflow-x:hidden;">
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="mainWestBtn">
		<a href="javascript:void(0)" class="icon-add" onclick="addProject();"></a>
	</div>
	<div id="quesWestBtn">
		<a href="javascript:void(0)" class="icon-ok" onclick="shareQues();" style="padding-right:20px;"></a>
		<a href="javascript:void(0)" class="icon-cancel" onclick="cancelShareQues();"></a>
	</div>
	<div id="sub1WestBtn">
		<a href="javascript:void(0)" class="icon-add" onclick="tabAdd();"></a>
	</div>
	<div id="quesButtons">
		<table style="border-spacing:0">
			<tr>
				<td>
					<input class="easyui-searchbox" data-options="prompt:'Just Input Something',searcher:doQuesSearch" style="width:150px;">
				</td>
				<td>
					<a href="javascript:void(0)" onclick="shareData();" class="easyui-linkbutton" data-options="iconCls:'icon-share',plain:true"></a>
					<a href="javascript:void(0)" onclick="addData();" class="easyui-linkbutton" data-options="iconCls:'icon-add',plain:true"></a>
					<a href="javascript:void(0)" onclick="saveData();" class="easyui-linkbutton" data-options="iconCls:'icon-save',plain:true"></a>
					<a href="javascript:void(0)" onclick="removeData();" class="easyui-linkbutton" data-options="iconCls:'icon-cancel',plain:true"></a>
					<a href="javascript:void(0)" onclick="cancelData();" class="easyui-linkbutton" data-options="iconCls:'icon-redo',plain:true"></a>
				</td>
			</tr>
		</table>
	</div>
	<div id="quesNoteBtn">
		<a href="javascript:void(0)" class="easyui-linkbutton" onclick="editQuesNote();" data-options="iconCls:'icon-edit',plain:true"></a>
		<a href="javascript:void(0)" class="easyui-linkbutton" onclick="saveQuesNote();" data-options="iconCls:'icon-save',plain:true"></a>
		<a href="javascript:void(0)" class="easyui-linkbutton" onclick="cancelQuesNote();" data-options="iconCls:'icon-cancel',plain:true"></a>
	</div>
	<div id="w" class="easyui-window" title="AddProject" data-options="iconCls:'icon-save',closed:true,modal:true
		,maximizable:false,minimizable:false,collapsible:false" 
		style="width:500px;height:220px;padding:10px;">
		<div style="margin:10px;">
			<select id="projectLevel" class="easyui-combobox" style="width:20%;" data-options="onSelect:projectLevelSelect">
				<option value="p">父级</option>
				<option value="s">子级</option>
			</select>
			<select id="projectNameSelect" class="easyui-combobox" style="width:20%;" 
				data-options="textField:'text',valueField:'id'
					,onSelect:setProjectInWindow">
			</select>
			<label style="margin-left:20px;"><input type="checkbox" name="isCloseAfterSave" checked="checked"/><span>保存成功后关闭此窗口</span></label>
		</div>
		<div style="margin:10px;display:none;">
			<input id="projectId" class="easyui-textbox" style="width:100%;height:20px;" data-options="disable:true,prompt:'project code,must be unique!'">
		</div>
		<div style="margin:10px;display:none;">
			<input id="projectCode" class="easyui-textbox" style="width:100%;height:20px;" data-options="prompt:'project code,must be unique!'">
		</div>
		<div style="margin:10px;">
			<input id="projectName" class="easyui-textbox" style="width:100%;height:20px;" data-options="prompt:'project name,must be unique!'">
		</div>
		<div style="margin:10px;">
			<input id="subCodeName" class="easyui-textbox" style="width:100%;height:20px;" data-options="prompt:'预设的子级名称,格式:CODE;NAME...'">
		</div>
		<div style="margin:10px;top:170px;position:absolute;">
			<a href="javascript:void(0);" onclick="saveProject();" class="easyui-linkbutton" data-options="iconCls:'icon-save'">Save</a>
			<a href="javascript:void(0);" onclick="cancelProject();" class="easyui-linkbutton" data-options="iconCls:'icon-redo'">Cancel</a>
		</div>
	</div>
</body>
</html>